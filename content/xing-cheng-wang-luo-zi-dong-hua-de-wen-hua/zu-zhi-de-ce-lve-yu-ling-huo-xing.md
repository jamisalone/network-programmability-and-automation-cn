---
description: Organizational Strategy and Flexibility
---

# 组织的策略与灵活性

你首先需要解决的是你的团队以及它在组织中的地位。如果你的团队不合适，本书中的其他所有主题都会在重压之下崩溃。

## 进行旧式组织的转变

企业IT并不以其技术走在前沿的能力而闻名。传统地，与技术领导者正在做的事情或思考的问题相比，IT商店\(IT shop\)的技术栈\(technology stack\)可能落后5年，有时甚至10年。这种趋势并不是完全没有道理的；高端技术打响名头也有迹可循。然而，也有很多不充分的或过时的理由来解释为什么一个IT商店可能会使用"传统"技术栈。

自动化时常会遇到这样的障碍。经常有人担心，他们想实现自动化，但就是无法说服组织中的其他人采取哪怕是第一步。或者\(由于它所产生的"坏名声"\)有人开始做基本的自动化，但却出了问题，导致创收系统\(revenue-generating system\)的瘫痪。

不幸的是，想要回答这个问题并不容易。每个组织都有自己的伤痕和独特历史。然而，在一本伟大的书《如何赢得朋友和影响他人》中可以找到一个潜在的答案。在这本书中，戴尔-卡耐基手把手地传授了他的的几个智慧金块，它们对日常生活都是有用的——但有一个书中多次提到的主题，那就是需要从别人的角度看问题。转述一下：

> 你不能让任何人做任何他们不想做的事情。所以你必须让他们愿意去做。

我们将在下一节中更多地讨论这个问题，但简而言之，企业必须想要自动化或内部脚本。这不能是一些高层管理人员在出错时才会发现的科学项目。

即使你以正确的方式开始，但通过与企业沟通你的自动化战略，也会出现反对的声音。改变总是会带来反对的一方\(antibodies\)。如果顶多让人感到不舒服，那将会很奇怪\(\[译者注\]暗示反对是不可避免\)。重要的是要记住你为什么要推动这件事——不是因为自动化很酷\(尽管确实如此\)，而是因为它能给你的业务带来切实的、可衡量的好处。

另外很重要的一点是，**做事情要慢慢来，建立良好的、持久的工程习惯，从一开始就树立正确的预期**。自动化像健康地减肥。任何一个能够减肥并保持体重的人都会告诉你，这不是关于流行的饮食法\(fad diets\)，而是关于像以合适分量吃正确的食物和锻炼这样的基本原理。**短期的收益远不如长期建立健康的习惯重要**。时尚饮食可能会显示出一些短期的成功，当然它们很风光\(flashy\)，但它们并不是为了提供任何持久的好处或成功。

同样，**自动化也要循序渐进**。如果你的组织专注于组建一个"自动化"或"DevOps"团队，那么这种努力已经注定会失败。自动化是需要跨筒仓支持\(buy-in across silos\)和需要随着时间循序渐进地发展的众多事情中的其中之一。正是由于这个原因，那些已经大量实现自动化的组织通常并不真正地把它当作特殊事件。它不过是"现代运维\(modern operation\)"。

{% hint style="info" %}
一些组织成功地组建了一个由来自不同IT学科的成员组成的临时"虚拟"团队，他们的任务是将自动化引入组织。这在工作一开始很有帮助，但不要忽视这样一个事实，即组织的最终目标是改善整个组织的运维，而不是建立一个专门负责自动化的团队，这样组织的其他成员就不用担心整个组织的自动化进程了。
{% endhint %}

总结一下，不要好高骛远\(boil the ocean\)，也不要试图正式地定义下个世纪你需要自动化一切事物。先开始；从小事做起，把简单的东西自动化，哪怕只是涉及到写几个脚本，然后用cron运行，或者一开始专注于自动化排障。你会发现，一旦你简单地开始了，就会有更多的事情可以去做，你会更有信息保持学习。

## 高管支持\(Buy-in\)的重要性

再次说明，在进行自动化的过程中，有一个良好的沟通目的和策略是非常重要的。这个目的必须专注于为业务带来价值\(deliver value to the business\)——无论是更长的正常运行时间、安全性，还是对不断变化的业务需求有更快速的响应速度。这些度量\(metrics\)应该已经被用于追踪 \(tracked\)，如果你想在没有这些度量\(metrics\)的情况下开始自动化，那么你的顺序就错了。**你应该解决的第一件事就是你与业务部门就短期和长期技术目标进行沟通的情况**。

沟通问题一旦被解决，你就会发现走上自动化道路，会带来一些显而易见的好处。首先，任何需要增加的人员数量，都将变得容易接受。在努力想要启动自动化的企业中，工程师们有一个非常普遍的抱怨——缺乏资源来进行自动化。如果能与业务部门进行适当的沟通，人们就会普遍认识到，与完全手工操作的流程或由过劳\(超负\)的工程师编写的半成品\(不成熟的\)自动化工具所造成的持续宕机\(ongoing outages\)相比，增加一点人手的成本是微不足道的。

但是，与业务领导层就自动化问题进行频繁的、高质量的沟通，最重要的一个原因是，当事情出错时——而且它们也将会出错——你发现自己不会把所有这些新工具和流程都拆解掉，而是努力修复它们。我们将在本章后面讨论这个问题，但像Facebook和Google这样的超大规模网络公司谈论**拥抱失败**的原因之一是——他们确保自己会从失败中学习，并努力确保他们不会遇到同样的问题两次。每一次失败都是一次成长的机会。让业务部门从一开始就加入到这个计划中来，将不仅能确保可以从任何失败中吸取教训，而且能有计划地推动自动化进程。

举一个说明性的例子，GitLab\(我们在第十章中所使用软件的SaaS版本\)在2017年1月发生了一场著名的重大故障。不仅服务瘫痪，而且由于他们的备份程序中出现了一系列之前未被发现的故障，花了18个小时才恢复服务。GitLab没有闭门造车，试图在私下里找出问题所在，而是公开了一份谷歌文档，概述了当时他们所掌握的一切情况，并将文档公开，让用户看到正在发生什么。他们甚至直播了如何让服务重新上线的过程。当服务重新上线后，他们发布了一篇非常详尽的博客文章，不仅概述了出错的原因和修复方法，还介绍了他们当时正在采取的措施，以确保这种事件不会再次发生。这让客户确信，GitLab对服务是认真的并且乐于从错误中学习。

失败一定会发生，自动化并不能消除对适当架构设计的需求。拟定一个透明的合同并与业务领导层进行频繁的沟通，将有助于获得所需的时间和工具，为自动化举措\(项目,initiative\)建立一个适当的基础。

## 构建与购买

随着所有的IT都卷入“开源运动”，人们很容易被炒作所迷惑。“不要再从厂商那里购买一切，自己使用开源软件构建一切”，这样对吗？不幸的是，这种兴致与现实有差异。

尽管分析师可能会让你相信，像Facebook或谷歌这样以自动化著称的大企业，并不是从头开始构建一切。在技术栈的每一个环节，他们都会在“构建”与“购买现成”的经济状况下做出妥协。例如，他们可能会为他们的大型数据中心建立自己的服务器，但他们不会通过其基本元素中制造单一组件。他们仍必须购买一些组件——他们做出的决定只是深入该技术栈\(\[译者注\]而不是构建组件\)。相比之下，他们可能会发现，在企业无线连接中使用思科已经打包好的完整解决方案是完全可以接受的。

这里的重点是，每个组织都必须自己做出决定。你的组织很可能没有达到像Facebook或Google那样的规模，因此你无法和他们一样通过自建服务器来获得同等的好处，但相比于传统方式，你更有可能获得更多的好处。

在企业IT中要遵循的一个好的经验法则是，你可以**买到你需要的80%的功能**。厂商不可能迎合每个企业的需求\(虽然产商可能会尝试\)，所以他们必须将他们的工程分布在整个客户群中，并推出足以满足当前用例的产品。这意味着，你以这种方式获得的技术栈将有大约20%的特殊用例没有从产商处得到解决。传统上，企业IT仅仅接受了这一点——但他们不必这样做\(\[译者注\]“这样做”指接受特殊需求未被满足\)。

即使是基本的脚本也可以帮助填补剩余20%的功能空白。例如，你可能有一个无线控制器，它不能按照你想要的方式生成报告。与其等上几个月/几年让厂商改变他们的UI\(也有可能永远不会发生\)，还不如查看一下控制器是否带有API。也许你可以写一个Python脚本来检索这些数据，并使用图形库来为你生成一些可视化。请注意，这并不意味着你现在是一个软件开发人员——这只是你了解了，不用等待多年让产商来反馈你的功能请求，而是你有了编写脚本这样一个选择。

“构建与购买”模式的两方都有自己的特点\(图11-1\)。选择在某一领域采用商业化的现成\(非定制的\)解决方案的组织往往依靠外部资源提供支持，而内部构建的技术栈往往将支持模型保留在内部，这就更加强依赖于在该领域促进自给自足的专业知识 \(relies much more heavily on promoting self-sufficient expertise in that area.\)。

![&#x56FE;11-1 &#x6784;&#x5EFA;&#x4E0E;&#x8D2D;&#x4E70;](../../.gitbook/assets/image%20%282%29.png)

然而，没有一个技术决策\(technology decision\)是如此二元化的。观察"建造与购买"模式的一个好方法——就像本章中的许多其他概念一样——是一个范围\(spectrum\)。

* **没有一个组织能从头开始构建一切**。
* **每个技术团队必须找出适合其业务的正确组合**。

在现实中，每个组织都会有这两种策略的组合。

