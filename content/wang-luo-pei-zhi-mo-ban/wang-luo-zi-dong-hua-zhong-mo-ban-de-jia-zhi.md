---
description: The Value of Templates in Network Automation
---

# 网络自动化中模板的价值

谈到模板的价值，你可能想知道为什么我们要讨论web开发以及模板在网络自动化上对我们有什么帮助。了解模板背后的价值时非常重要的，无论它们是否用于web。模板让我们获得一致性——不用手工制作充满HTML标签\(HTML tags\)或输入CLI命令，使用模板，我们可以声明文件的哪些部分需要保持静态，哪些部分应该时动态的。

每个在一个网络环境中工作足够长时间的工程师都必须为一个新的网络设备\(如交换机或路由器\)准备一个配置文件。也许可能对很多台交换机做配置准备——可以是为一个数据中心的建设。为了最大限度地利用时间，提前完成这些配置时很有用的，这样当交换机实际架设和布线时，网络工程师只需要将配置粘贴到终端上即可。

假设你负责像这样的展示——你的工作是为所有将要进入\(你的组织的\)数据中心的交换机提供配置。显然，每个交换机将需要自己单独的配置文件，但是有**很大一部分配置在设备间是相似的**。例如，你可以会设置相同的SNMP community参数、相同的管理员密码和相同的VLAN配置\(至少对于类似的设备类型，例如TOR交换机\)。不过话又说回来，可能还是有一部分配置是单个设备所独有的，例如管理IP和主机名\(hostname\)就是一个简单的例子，但如果是一个三层交换机呢？你将需要对该设备进行单独的子网配置，可能还需要单独的路由协议配置\(这取决于设备在拓扑中的位置\)。**决定哪些参数配置到哪些交换机上是相当耗时的，并且很可能导致错误**。模板允许我们在一个共同的基础配置上进行标准化，并帮助确保每个设备上都配置了正确的值。**模板**和填充模板的**数据**进行**分离**是**简化决定过程**的最佳方式。

模板对于网络工程师的主要价值在于实现**配置的一致性**。适当地运用模板，实际上可以减少在更改生产网络配置时人为错误造成问题的可能性。使用这样的方式似乎存在很多担心，其认为在生产中以自动化的方式进行复杂的配置更改是一个坏主意，但是**如果你遵守良好的机率并正确地测试你的模板，你是真的可以改善网络运维的**。模板并不能自动\(automatically\)消除人为错误，但是使用得当，它们可以很大程度上减少人为错误，从而减少中断。

使用模板来为新设备展示进行加持是一种模板价值的简单例子，因为它带来额外的好吃——为网络工程师节省了大量的时间。然而，不要认为这是模板被唯一使用的地方。在许多网络自动化的项目中，模板甚至不是由人所使用，而是被像Ansible这样的自动化软件所使用，它可以将配置更改实时地推送到生产环境中的网络设备上。

我们将通过本章的剩余部分来展示使用Jinja模板的具体例子。



